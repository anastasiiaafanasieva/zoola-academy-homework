{"mappings":"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","sources":["src/app.js"],"sourcesContent":["const meshContainer = document.querySelector(\".mesh\");\nconst gameParamsContainer = document.querySelector(\".game-params-container\");\nconst itemsPerRow = 5;\nconst itemsPerColumn = 5;\nconst meshContainerWidth = meshContainer.clientWidth;\nconst meshContainerHeight = meshContainer.clientHeight;\nconst scoreContainer = document.querySelector(\".score\");\nconst selectGameSpeed = document.querySelector(\".select-speed\");\nconst itemWidth = meshContainerWidth / itemsPerRow;\nconst itemHeight = meshContainerHeight / itemsPerColumn;\nconst itemsQuantity = (meshContainerWidth / itemWidth) * (meshContainerHeight / itemHeight);\nconst successClickPoint = 1;\nconst doubleClickPoint = 2;\nconst clickOutsideElementPoint = 3;\nconst limitScore = 7;\n\nfunction appendItems() {\n  const newItem = document.createElement(\"div\");\n  newItem.className = \"item\";\n  meshContainer.append(newItem);\n}\n\nfor (let i = 0; i < itemsQuantity; i++) {\n  appendItems();\n}\n\nconst meshSize = meshContainer.children.length;\n\n/**\n * @description A function that will run our game using SetInterval\n * The number id value returned by setInterval() function and itâ€™s passed into the clearInterval() function to clear the interval\n */\nlet gameInterval;\n/**\n * @description A function to be executed after each game iteration, is set to null by default\n */\nlet deactivateElement = null;\n/**\n * @description Current score\n */\nlet currentScore;\n/**\n * @description Game speed\n */\nlet gameIterationDuration;\n/**\n * @description Status of click\n */\nlet isClicked = false;\n/**\n * @description Status of click outside of highlighted element\n */\nlet isClickedOutOfElement = false;\n/**\n * @description A function that checks if index is different from previous\n */\nlet randomIndex;\n/**\n * @description Current highlighted element on the mesh\n */\nlet highlightedElement;\n\nselectGameSpeed.addEventListener('change', setGameSpeed);\nmeshContainer.addEventListener('click', handleClickOutsideElement, true);\n\nfunction setIntervalImmediately(func, interval) {\n  func();\n   return gameInterval = setInterval(func, interval);\n}\n\nfunction resetPrevGameResult() {\n  if (highlightedElement) {\n    highlightedElement.className = \"item\";\n  }\n\n  clearResultNotification();\n  clearInterval(gameInterval);\n\n  scoreContainer.innerText = '0';\n  handleScoreColor();\n  currentScore = 0;\n}\n\nfunction startNewGame() {\n  resetPrevGameResult();\n  setIntervalImmediately(runGameIteration, gameIterationDuration);\n}\n\nfunction setGameSpeed(e) {\n  clearStartButton();\n  resetPrevGameResult();\n  createStartButton();\n\n  gameIterationDuration = e.target.value;\n}\n\nfunction stopGameIteration(element) {\n    clearInterval(gameInterval);\n    element.removeEventListener('click', handleClick);\n    meshContainer.removeEventListener('click', handleClickOutsideElement, true);\n}\n\nfunction handleScoreColor() {\n  if (+scoreContainer.innerText < 0) {\n    scoreContainer.classList.add('danger');\n  } else {\n    scoreContainer.classList.remove('danger');\n  }\n}\n\nfunction handleClick() {\n  if (isClicked) {\n    scoreContainer.innerText = currentScore -= doubleClickPoint;\n  } else {\n    scoreContainer.innerText = currentScore += successClickPoint;\n    // clearInterval(gameInterval);\n    // gameInterval = setIntervalImmediately(runGameIteration, gameIterationDuration);\n  }\n\n  handleScoreColor();\n\n  isClicked = true;\n\n  if (currentScore <= -limitScore || currentScore >= limitScore) {\n    createResultNotification(currentScore);\n    stopGameIteration(highlightedElement);\n  }\n}\n\nfunction handleClickOutsideElement(element) {\n  if (element.target.classList.value === 'item') {\n    scoreContainer.innerText = currentScore -= clickOutsideElementPoint;\n  }\n\n  if (currentScore <= -limitScore || currentScore >= limitScore) {\n    createResultNotification(currentScore);\n    stopGameIteration(highlightedElement);\n  }\n\n  handleScoreColor();\n}\n\nfunction runGameIteration() {\n  randomIndex = getIndex();\n\n  /**\n   * Alternatively, this could be written like following: deactivateElement?.()\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining\n   */\n  if (deactivateElement) {\n    deactivateElement();\n  }\n\n  const activeElement = meshContainer.children[randomIndex];\n\n  if (!isClicked) {\n    scoreContainer.innerText = currentScore -= 5;\n  }\n\n  handleScoreColor();\n\n  if (activeElement) {\n    deactivateElement = activateElement(activeElement);\n    isClicked = false;\n  }\n\n\n  if (currentScore <= -limitScore || currentScore >= limitScore) {\n    createResultNotification(currentScore);\n    stopGameIteration(activeElement);\n  }\n}\n\nfunction activateElement(element) {\n  const variant = getVariantForIndex();\n  element.classList.add(\"item-highlighted\", variant);\n  element.addEventListener('click', handleClick);\n  highlightedElement = element;\n\n  /**\n   * `activateElement` returns a clean-up function that we can later execute to undo any changes made to the active element.\n   * It it very convenient to have such function defined immediately, while we still have `variant` and `element` available.\n   * A mechanism of returning a function is called \"closure\".\n   */\n  return function unhighlight() {\n    element.removeEventListener('click', handleClick);\n    element.classList.remove(\"item-highlighted\", variant);\n  };\n}\n\n/**\n * @description This function takes an integer and returns a random integer between 0 and the given number\n */\nfunction getRandomNumber(max) {\n  return Math.floor(Math.random() * 100) % max;\n}\n\nfunction getVariantForIndex() {\n  const variants = [\n    \"item-highlighted-1\",\n    \"item-highlighted-2\",\n    \"item-highlighted-3\",\n  ];\n  return variants[getRandomNumber(meshSize - 1) % variants.length];\n}\n\nfunction getIndex() {\n  let index;\n  do {\n    index = getRandomNumber(meshSize - 1);\n  } while (randomIndex === index);\n\n  return index;\n}\n\nfunction createResultNotification(result) {\n  const notification = document.createElement(\"div\");\n  notification.className = \"mesh-notification\";\n  if (result <= -limitScore) {\n    notification.innerText = 'Oops! Try again!';\n  } else {\n    notification.innerText = 'Congratulations! You win';\n  }\n\n  gameParamsContainer.append(notification);\n}\n\nfunction clearResultNotification() {\n  const activeNotification = document.querySelector(\".mesh-notification\");\n  \n  if (activeNotification) {\n    activeNotification.remove();\n  }\n}\n\nfunction createStartButton() {\n  const startButtonContainer = document.createElement(\"div\");\n  const startButton = document.createElement(\"button\");\n\n  startButtonContainer.className = \"start-game\";\n  startButton.className = \"start-button\";\n  startButton.innerText = \"Start\"\n  \n  startButtonContainer.append(startButton);\n  gameParamsContainer.append(startButtonContainer);\n\n  startButton.addEventListener('click', startNewGame);\n}\n\nfunction clearStartButton() {\n  const startButtonContainer = document.querySelector(\".start-game\");\n\n  if (startButtonContainer) {\n    startButtonContainer.remove();\n  }\n}\n"],"names":[],"version":3,"file":"index.816e7b21.js.map","sourceRoot":"/__parcel_source_root/"}